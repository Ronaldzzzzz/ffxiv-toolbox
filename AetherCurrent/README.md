# 最短路徑影像辨識系統 V2 (Aether Current Path Finder)

這是一個基於 Web 的影像辨識工具，主要用於輔助 FFXIV 玩家在地圖上規劃採集風脈泉 (Aether Currents) 的最短路徑。利用 OpenCV.js 技術，自動從遊戲地圖截圖中找出目前位置與目標位置，並計算最佳巡邏路線。

## ✨ 主要功能

*   **影像辨識**：
    *   **主地圖**：支援直接 `Ctrl+V` 貼上遊戲地圖截圖，或上傳圖片檔案。
    *   **起點辨識 (Pattern A)**：自動尋找乙太水晶位置 (預設圖示 `A.png`)。
    *   **目標辨識 (Pattern B)**：自動尋找未開啟的風脈泉 (預設圖示 `B.png`)。
*   **路徑規劃**：
    *   解決旅行推銷員問題 (TSP)，計算從起點出發遍歷所有偵測到目標的最短路徑。
    *   在畫布上直接繪製建議路線與順序編號。
*   **進階設定**：
    *   可調整辨識信心度閥值 (Threshold)。
    *   支援目標圖示的「多尺度搜尋」(Multi-scale search)，以適應不同縮放比例的地圖截圖。
    *   支援自訂起點與目標的圖案檔案。

## 🚀 如何使用

1.  **準備截圖**：在遊戲中打開地圖，按下截圖鍵或使用截圖工具複製畫面。
2.  **載入地圖**：在網頁上直接按 `Ctrl+V` 貼上，或點選「覆蓋主圖」上傳檔案。
3.  **執行計算**：
    *   確認起點 (A) 與目標 (B) 的圖示設定 (通常使用預設即可)。
    *   點擊 **「開始計算與繪製」**。
4.  **查看結果**：
    *   系統會在下方畫布顯示標記好的地圖。
    *   **藍點** 為起點，**綠點** 為目標，線條指示建議的移動路徑。

## 🛠️ 技術細節

*   **核心技術**：HTML5, JavaScript
*   **影像處理**：[OpenCV.js](https://docs.opencv.org/4.5.0/opencv.js) (Template Matching, Image Processing)
*   **演算法**：Traveling Salesperson Problem (TSP) 暴力解法 (適用於少量節點)。

## 📁 檔案結構

*   `index.html`: 主程式與介面。
*   `A.png`, `B.png`: 預設的辨識模板圖檔。
*   `test.jpg`: 測試用地圖樣本。

## 注意事項

*   請確保截圖清晰，地圖上的圖示未被其他 UI 遮擋。
*   若辨識失敗，可嘗試調整「辨識容許度」拉桿，或開啟「多尺度搜尋」。
